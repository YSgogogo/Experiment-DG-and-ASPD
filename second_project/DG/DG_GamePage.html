{{ extends 'global/Page.html' }}
   {{ block title }}
   <h2 style="text-align: center;">
   Round {{player.round_number}} out of 15
    </h2>
   {{ endblock }}

{{ block content }}
<br>
<br>

    <table class="mx-auto">
        <tr>
            <td colspan="3"> </td>
            <td> Your payment  </td>
            <td> Second Mover payment </td>
        </tr>
        <tr>
            <td rowspan="2"> Your choice (First Mover)</td>
            <td><input type="radio" name="choice" value="{{ True }}" class="btn btn-primary btn-large" required></td>
            <td class="hide_left"> A </td>
            <td id="cell1" >  </td>
            <td id="cell2" >  </td>
        </tr>
        <tr>
            <td><input type="radio" name="choice" value="{{ False }}" class="btn btn-primary btn-large" required></td>
            <td class="hide_left"> B </td>
            <td id="cell3" >  </td>
            <td id="cell4" >  </td>
        </tr>
    </table>
<br>
<span class="error-message" style="display: none;">Please make your decision.</span>
   <script>
        var random = Math.random();
        if (random < 0.5) {
            document.getElementById("cell1").innerHTML = "{{ L1 }} tokens";
            document.getElementById("cell2").innerHTML = "{{ L2 }} tokens";
            document.getElementById("cell3").innerHTML = "{{ R1 }} tokens";
            document.getElementById("cell4").innerHTML = "{{ R2 }} tokens";
            document.getElementsByName("choice")[0].value = "{{ True }}";
            document.getElementsByName("choice")[1].value = "{{ False }}";
        } else {
            document.getElementById("cell1").innerHTML = "{{ R1 }} tokens";
            document.getElementById("cell2").innerHTML = "{{ R2 }} tokens";
            document.getElementById("cell3").innerHTML = "{{ L1 }} tokens";
            document.getElementById("cell4").innerHTML = "{{ L2 }} tokens";
            document.getElementsByName("choice")[0].value = "{{ False }}";
            document.getElementsByName("choice")[1].value = "{{ True }}";
        }
    </script>

<input type="hidden" name="timeSpent" id="timeSpent"/>
<script>
var pageTimeElapsed = 0;
var pageTimerID = -1;

function pageTick() {
  pageTimeElapsed++
  document.getElementById("timeSpent").value = pageTimeElapsed;
}
window.onload = function() {
  if(pageTimerID == -1){
    pageTimerID = setInterval(pageTick, 100);
  }
};
</script>




<div style="text-align: right;">
    {{ next_button }}
</div>
{{ endblock }}

{{ block app_styles }}
    <style>
        table {
            border: 1px solid black;
        }
        td {
           border: 1px solid black;
           background-color: bg-light mb-3;
           color: black;
           font-weight: solid;
           font-size: 19px;
           padding: 10px 10px 10px 10px;
           text-align: center;
        }
        tr.hide_all > td, td.hide_all{
           border-style:hidden;
        }
        tr.hide_right > td, td.hide_right{
           border-right-style:hidden;
        }
        tr.hide_left > td, td.hide_left{
           border-left-style:hidden;
        }
        tr.hide_top > td, td.hide_top{
           border-top-style:hidden;
        }
        tr.hide_bottom > td, td.hide_bottom{
           border-bottom-style:hidden;
        }
        tr.width_bottom > td, td.width_bottom{
           border-bottom-width:4px;
        }
    </style>
{{ endblock }}